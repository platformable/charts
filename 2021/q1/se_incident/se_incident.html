<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SE_incident</title>
  <link rel="icon" type="image/png" href="./../general_assets/img/favicon.png">
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
</head>

<body>
  <!--CDN-->
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/echarts@5/dist/echarts.min.js"></script>
  <!--STYLESHEET-->
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: "Roboto", sans-serif;
    }

    html {
      height: -webkit-fill-available;
      min-height: 100vh;
    }

    body {
      margin: 0 auto;
      min-height: 100vh;
      min-height: -webkit-fill-available;
      overflow-x: hidden;
    }

    #chart {
      margin: 5% auto;
      padding: 0 5%;
      width: 942px; /*THIS GIVES THE CHART EXACTLY 800PX*/
    }

    .chart-container {
      margin: 0 auto;
    }

    .top-charts {
      margin: 5% auto;
      display: flex;
      justify-content: space-between;
    }

    .title {
      width: 45%;
    }

    .title h3 {
      font-weight: bold;
      font-size: 20px;
    }

    .chart-icon {
      justify-content: flex-end;
      text-align: right;
    }
    .methodology {
      margin: 5% auto;
      padding: 0 2%;
    }

    .methodology p {
      font-size: 12px;
      color: #7f7f7f;
    }

    @media only screen and (max-width: 600px) {
      .top-charts {
        flex-direction: column-reverse;
        justify-content: space-between;
        align-items: center;
      }

      .title {
        text-align: center;
        width: 85%;
      }
    }
  </style>

  <div id="chart">
    <div class="top-charts">
      <div class="title">
        <h3>Quarterly number of API security incidents</h3>
        <p>2020 - Q1 2021</p>
      </div>
      <div class="chart-icon"> <a href="./../index.html" title="back to home" id="logo"> <img
            src="./../general_assets/img/logo.svg" alt="platformable logo with blue letters and blue square"
            width="160px" /></a>
      </div>
    </div>

    <div class="chart-container" style="position: relative; height:50vh;width: 800;">
      <div id="st_oas" style="height: 100%; width: 800;"></div>
      <!--this library needs the 100% height-->
    </div>
    <div class="methodology">
      <p><strong>Methodology</strong>: Platformable tracks API-related security incidents uncovered globally on a quarterly basis, based on two key sources: </p>
       <p> 1) Weekly API vulnerabilities blog posts from 42Crunch: <a href="https://apisecurity.io/">APIsecurity.io</a></p>
        <p>2) Data breach weekly security report from <a href ="https://www.gearbrain.com/">gearbrain.com</a></p>
    </div>
  </div>
  <script type="text/javascript">
    var dom = document.getElementById("st_oas");
    var myChart = echarts.init(dom);
    var app = {};

    var option;

    option = {
      tooltip: {
        trigger: 'axis',
        axisPointer: {            // Use axis to trigger tooltip
          type: 'shadow'        // 'shadow' as default; can also be 'line' or 'shadow'
        },
      },
      color: [ '#20144e','#ffd23f'],
      textStyle: {
        fontFamily: 'Roboto',
        color: '#000',
        //fontSize: 13, default 12
        //fontWeight:'bold',
      },
      legend: {       
        itemWidth:14,//squared boxes
        //itemHeight:14, which makes the perfect squares
        data: ['Security incidents in Open Banking','Security incidents in other sectors' ],
        textStyle: {
        },
      },
      grid: {
        top:70,
        left: '3%',
        right: '3%',
        bottom: '8%',
        containLabel: true
      },
      xAxis: {
        min:0,
        max:100,
        axisLabel:{
          formatter: '{value} %',
        },

      },
      yAxis: {
        axisLine: {
          show: false,
        },
        axisTick: {
          show: false,
        },
        data: ['Q1 2021', 'Q4 2020', 'Q3 2020', 'Q2 2020', 'Q1 2020']//1st country in mockup is the last country in our chart
      },
      series: [
      {
        name: 'Security incidents in Open Banking',
        data: [12,9,14,6,9],
        type: 'bar',
        barWidth: 20,
        stack: 'total',
        label: {
          show: true,
          formatter: '{c}%',
        },
        emphasis: {
          focus: 'series'
        },
        barMinHeight:45,//helps when data is too small such as 3
      },
      {
        name: 'Security incidents in other sectors',
        data: [88,91,86,94,91],
        type: 'bar',
        barWidth: 20,
        stack: 'total',
        label: {
          show: true,
          formatter: '{c}%',
        },
        emphasis: {
          focus: 'series'
        },
        barMinHeight: 45,//helps when data is too small such as 3

      },
      

      ]
    };
    if (option && typeof option === 'object') {
      myChart.setOption(option);
    }

  </script>
</body>

</html>